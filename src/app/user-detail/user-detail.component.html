<div class="container">
  <div class="table-wrapper">
      <div class="row">
        <div class="col-sm-6 header-title">
          <h4><b>User Details</b></h4>
        </div>
      </div>
        <form [formGroup]="userForm" (ngSubmit)='Submit()'>
          <input type="hidden" formControlName="userId">
            <div class="table-content">
              <div class="form-group p-10 row">
                <div class="col-sm-2">
            <label for="name" class="form-label">User Name</label>
          </div>
          <div class="col-sm-3">
            <input
              type="text"
              class="form-control"
              id="name"
              autocomplete="off"
              maxlength="50"
              formControlName="name"
            />
            <div *ngIf="f['name']?.touched && f['name']?.invalid" class="alert alert-danger">  
              <div *ngIf="f['name']?.errors?.required">User Name is required.</div>  
          </div>
          </div>
        </div>
          <div class="form-group p-10 row">
            <div class="col-sm-2">
            <label for="address" class="form-label">Address</label>
          </div>
          <div class="col-sm-3">
            <textarea
              class="form-control"
              id="address"
              autocomplete="off"
              maxlength="100"
              formControlName="address"
            ></textarea>
            <div *ngIf="f['address']?.touched && f['address']?.invalid" class="alert alert-danger">  
              <div *ngIf="f['address']?.errors?.required">Address is required.</div>  
          </div>
          </div>
        </div>
        <div class="form-group p-10 row">
          <div class="col-sm-2">
            <label for="country" class="form-label">Country</label>
          </div>
          <div class="col-sm-3">
            <input
              type="text"
              class="form-control"
              id="country"
              autocomplete="off"
              maxlength="50"
              formControlName="country"
            />
            <div *ngIf="f['country']?.touched && f['country']?.invalid" class="alert alert-danger">  
              <div *ngIf="f['country']?.errors?.required">Country is required.</div>  
          </div>
        </div>
        </div>
        <div class="form-group p-10 row">
          <div class="col-sm-2">
            <label for="zipCode" class="form-label">ZipCode</label>
          </div>
          <div class="col-sm-3">
            <input
              type="number"
              class="form-control"
              id="zipCode"
              autocomplete="off"
              formControlName="zipCode"
            />
            <div *ngIf="f['zipCode']?.touched && f['zipCode']?.invalid" class="alert alert-danger">  
              <div *ngIf="f['zipCode']?.errors?.required">ZipCode is required.</div>  
              <div *ngIf="f['zipCode']?.errors?.pattern">Please, Enter 6 digit ZipCode.</div>  
          </div>
          </div>
          </div>
          <div class="form-group p-10 row">
            <div class="col-sm-2">
            <label for="mobileNo" class="form-label">MobileNo</label>
          </div>
          <div class="col-sm-3">
            <div>
            <input
              type="number"
              class="form-control"
              id="mobileNo"
              autocomplete="off"
              formControlName="mobileNo"
            />
            <div *ngIf="f['mobileNo']?.touched && f['mobileNo']?.invalid" class="alert alert-danger">  
              <div *ngIf="f['mobileNo']?.errors?.required">Mobile Number is required.</div>  
              <div *ngIf="f['mobileNo']?.errors?.pattern">Please, Enter 10 digit Mobile Number.</div>  
          </div>
          </div>
          <div>
            <button type="submit" [disabled]="!userForm.valid" class="btn submit-btn btn-primary">{{EventValue}}</button>
          </div>
          </div>
          
          </div>
          
        </div>
        
        </form>
      </div>

    <div class="table-wrapper">
        <div class="row">
          <div class="col-sm-9 header-title">
            <h4><b>Manage Users</b></h4>
          </div>
          <div class="col-sm-3 form-group">
            <mat-form-field appearance="fill">
              <mat-label>Search</mat-label>
              <input type="text" placeholder="Name, Address, Country" matInput id="txtSearchBox" #searchValue>
               <mat-icon matSuffix (click)="searchUser(searchValue.value)">search</mat-icon>
               </mat-form-field>
        </div>
        </div>
      <table class="table table-striped table-hover user-table table-bordered table-content">  
        <tr class="table-header center-align">  
          <td hidden>Id</td>  
          <td>Name</td>  
          <td>Address</td>  
          <td>Country</td>  
          <td>ZipCode</td>
          <td>MobileNo</td>    
          <td>Edit</td>  
          <td>Delete</td>  
        </tr>  
      
        <tr class="center-align"  *ngFor="let user of users">  
          <td hidden>{{user.userId}}</td>  
          <td>{{user.name}}</td>  
           
          <td>{{user.address}}</td>  
          <td>{{user.country}}</td>  
          <td>{{user.zipCode}}</td>  
          <td>{{user.mobileNo}}</td> 
          <td><button type="button" (click)="EditUser(user)" data-toggle="tooltip" data-placement="top" title="Edit" class="btn text-warning btn-warning">Edit</button></td>  
          <td><a (click)="openConfirmationDialog(user.userId)" class="btn text-danger btn-danger">Delete</a></td>    
        </tr>  
        <tr>
          <td *ngIf="users.length == 0" colspan="6">No Users Found</td>
        </tr>
      </table>  
    </div> 
  </div>